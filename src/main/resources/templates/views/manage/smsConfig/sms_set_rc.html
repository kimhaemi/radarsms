<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="layout/default_layout"
      th:with="metaTitle='전체 감시'">

	<th:block layout:fragment="content">
        <script th:inline="javascript">
            /* <![CDATA[ */
                var mData = /*[[${list.receiveList}]]*/;
                console.log(mData);
            /* ]]> */
        </script>
        <script type="text/javascript">
        $(function() {
            $('.toggle').toggles();
            $('.toggle').on('toggle', function (e, active) {
                var targetId=e.target.id.replace("toggle","id");
                if (active) {
                    $("#"+targetId).val("true");
                } else {
                    $("#"+targetId).val("false");
                }
            });
        });
        </script>
    
        <!-- <form action="/manage/sms_set_rc_update" method="post" target="_self" id="searchDate"> -->
        <input type="hidden" name="termStart" id="termStart">
        <input type="hidden" name="termClose" id="termClose">
        <table class="noticeTbl searchSeries">
            <thead>
            <tr>
                <th class="left">
                    관리 &gt; 지점/자료별 문자 발송 설정
                </th>
                <th class="right">
                    <input type="submit" class="btn btn_grayline" value="설정저장">
                </th>
            </tr>
            </thead>
        </table>

        <!-- <table class="mainTbl searchSeries" summary=""> -->
        <table class="table subTbl table-hover" summary="">
            <caption class="hidden">이벤트 문자 발송 설정</caption>
            <colgroup>
                <col>
                <col>
                <col>
                <col>
            </colgroup>
            <thead class="subThead">
                <tr>
                    <th>구분</th>
                    <th>지점</th>
                    <th colspan="2">자료 종류</th>
                    <th>문자 발송 설정</th>
                </tr>
            </thead>
            <tbody class="table-group-divider">
                <tr th:each="rclist : ${list.receiveList}">
                    <td th:if="${rclist.dataKind == 'RDR'}">
                        레이더
                    </td>
                    <td th:if="${rclist.dataKind == 'LGT'}">
                        낙뢰
                    </td>
                    <td th:if="${rclist.dataKind != 'RDR' && rclist.dataKind != 'LGT'}">
                        네트워크
                    </td>

                    <td th:if="${rclist.dataKind == 'RDR'}">
                        <div th:text="${rclist.name_kr +' ('+rclist.site+')'}"></div>
                    </td>
                    <td th:if="${rclist.dataKind == 'LGT'}">
                        낙뢰
                    </td>
                    <td th:if="${rclist.dataKind != 'RDR' && rclist.dataKind != 'LGT'}">
                        네트워크
                    </td>
                    
                    <td>
                        <div th:text="${rclist.dataType}"></div>
                    </td>
                    <td>
                        <div th:text="${rclist.data_name}"></div>
                    </td>
                    <td>
                        <div class="toggle toggle-light" th:id="${'toggle-'+rclist.site+'-'+rclist.dataType}" th:data-toggle-on="${rclist.sms_send_activation}"></div>
                        <input type="hidden" id="${'id-'+rclist.site+'-'+rclist.dataType}" th:name="${'id-'+rclist.site+'-'+rclist.dataType}" th:value="${rclist.sms_send_activation }" />
                    </td>
                </tr>
            </tbody>
        </table>
        <!-- </form> -->
    </th:block>
</html>