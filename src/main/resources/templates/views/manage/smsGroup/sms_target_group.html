<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="layout/default_layout"
      th:with="metaTitle='전체 감시'">

	<th:block layout:fragment="content">
        <link rel="stylesheet" type="text/css" href="/css/jquery-ui.css">
        <script type="text/javascript">
            $(function() {
                $('.toggle').toggles();
                $('.toggle').on('toggle', function (e, active) {
                    var targetId=e.target.id.replace("toggle","id");
                    if (active) {
                        $("#"+targetId).val("1");
                    } else {
                        $("#"+targetId).val("0");
                    }
                });
                $('a.btn').button();
            });
        </script>
    
        <!-- <form id="searchDate" modelattribute="smsTargetGroupForm" action="sms_target_group_update.do" method="post" target="_self"> -->
        <table class="noticeTbl searchSeries">
            <thead>
            <tr>
                <th class="left">
                    관리 &gt; 문자 수신 그룹 관리
                </th>
                <th class="right">
                    <input type="submit" value="설정저장">
                </th>
            </tr>
            </thead>
        </table>

        <table class="mainTbl searchSeries" summary="">
            <caption class="hidden">문자 수신 그룹 관리</caption>
            <colgroup>
                <col style="width:33%" />
                <col style="width:33%" />
                <col />
            </colgroup>
            <thead>
                <tr>
                    <th>그룹이름</th>
                    <th>그룹 활성화</th>
                    <th>그룹 관리</th>
                </tr>
            </thead>
            <tbody th:each="tgList, tgListStat : ${list.smsTargetGroupList}">
                <tr>
                    <td>
                        <input type="hidden" th:name="${'smsTargetGroups['+tgListStat.index+'].gid'}" th:value="${tgList.id }"/>
                        <input type="text" th:name="${'smsTargetGroups['+tgListStat.index+'].name' }" th:value="${tgList.name }" class="groupName"/>
                    </td>
                    <td>
                        <div class="toggle toggle-light" th:id="${'toggle-'+tgList.id}" th:data-toggle-on="${tgList.activation }"></div>
                        <input type="hidden" th:id="${'id-'+tgList.id}" th:name="${'smsTargetGroups['+tgListStat.index+'].activation' }" th:value="${tgList.activation }" />
                    </td>
                    <td>
                        <a class="btn" th:href="@{/manage/sms_target_group_member(id=${tgList.id}) }">멤버 설정</a>
                        <a class="btn" th:href="@{/manage/sms_target_group_link(id=${tgList.id}) }">감시 자료 설정</a>
                        <!-- ${rc.data_type } -->
                    </td>
                </tr>
            </tbody>
        </table>
    </th:block>
</html>